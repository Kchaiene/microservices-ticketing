{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\WebStormProject\\\\Microservices with Node JS and React\\\\micros-ticketing\\\\client\\\\pages\\\\_app.js\";\n\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport UserProvider from \"../react-context/user-context\";\nimport { servTicketing } from \"../api/build-client\";\nimport Header from \"../components/_App/Header\";\n\nvar CustomApp = function CustomApp(_ref) {\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      currentUser = _ref.currentUser;\n  // console.log(\"Custom App Render\", currentUser);\n  return __jsx(React.Fragment, null, __jsx(UserProvider, {\n    currentUser: currentUser,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }\n  }, __jsx(Header, _extends({}, pageProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 9\n    }\n  })), __jsx(Component, _extends({}, pageProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }\n  }))));\n};\n\n_c = CustomApp;\n\nCustomApp.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(appContext) {\n    var currentUser, options, _yield$servTicketing$, data, pageProps;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            currentUser = {\n              Available: \"Available\"\n            }; // let currentUser = null;\n\n            if (!appContext.ctx.req) {\n              _context.next = 14;\n              break;\n            }\n\n            _context.prev = 2;\n            options = {\n              headers: appContext.ctx.req.headers\n            };\n            _context.next = 6;\n            return servTicketing.get(\"/api/users/currentuser\", options);\n\n          case 6:\n            _yield$servTicketing$ = _context.sent;\n            data = _yield$servTicketing$.data;\n            currentUser = data;\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context[\"catch\"](2);\n            console.log(\"Error App Initial ==>\", _context.t0.message);\n\n          case 14:\n            pageProps = {};\n\n            if (!appContext.Component.getInitialProps) {\n              _context.next = 25;\n              break;\n            }\n\n            _context.prev = 16;\n            _context.next = 19;\n            return appContext.Component.getInitialProps(appContext.ctx, currentUser);\n\n          case 19:\n            pageProps = _context.sent;\n            _context.next = 25;\n            break;\n\n          case 22:\n            _context.prev = 22;\n            _context.t1 = _context[\"catch\"](16);\n            console.log(\"Error App Initial Props ==>\", _context.t1.message);\n\n          case 25:\n            return _context.abrupt(\"return\", {\n              pageProps: pageProps,\n              currentUser: currentUser\n            });\n\n          case 26:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[2, 11], [16, 22]]);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default CustomApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"CustomApp\");","map":{"version":3,"sources":["D:/WebStormProject/Microservices with Node JS and React/micros-ticketing/client/pages/_app.js"],"names":["React","UserProvider","servTicketing","Header","CustomApp","Component","pageProps","currentUser","getInitialProps","appContext","Available","ctx","req","options","headers","get","data","console","log","message"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,sCAAP;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,SAAQC,aAAR,QAA4B,qBAA5B;AACA,OAAOC,MAAP,MAAmB,2BAAnB;;AAIA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAAyC;AAAA,MAAvCC,SAAuC,QAAvCA,SAAuC;AAAA,MAA5BC,SAA4B,QAA5BA,SAA4B;AAAA,MAAjBC,WAAiB,QAAjBA,WAAiB;AACzD;AACA,SACE,4BACE,MAAC,YAAD;AAAc,IAAA,WAAW,EAAEA,WAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD,eAAYD,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,EAEE,MAAC,SAAD,eAAeA,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFF,CADF,CADF;AAQD,CAVD;;KAAMF,S;;AAaNA,SAAS,CAACI,eAAV;AAAA,uEAA4B,iBAAMC,UAAN;AAAA;;AAAA;AAAA;AAAA;AAAA;AACtBF,YAAAA,WADsB,GACR;AAACG,cAAAA,SAAS,EAAC;AAAX,aADQ,EAE1B;;AAF0B,iBAGtBD,UAAU,CAACE,GAAX,CAAeC,GAHO;AAAA;AAAA;AAAA;;AAAA;AAKhBC,YAAAA,OALgB,GAKN;AAACC,cAAAA,OAAO,EAAEL,UAAU,CAACE,GAAX,CAAeC,GAAf,CAAmBE;AAA7B,aALM;AAAA;AAAA,mBAMDZ,aAAa,CAACa,GAAd,CAAkB,wBAAlB,EAA4CF,OAA5C,CANC;;AAAA;AAAA;AAMfG,YAAAA,IANe,yBAMfA,IANe;AAOtBT,YAAAA,WAAW,GAAGS,IAAd;AAPsB;AAAA;;AAAA;AAAA;AAAA;AAStBC,YAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAqC,YAAEC,OAAvC;;AATsB;AAatBb,YAAAA,SAbsB,GAaV,EAbU;;AAAA,iBActBG,UAAU,CAACJ,SAAX,CAAqBG,eAdC;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAgBJC,UAAU,CAACJ,SAAX,CAAqBG,eAArB,CAAqCC,UAAU,CAACE,GAAhD,EAAqDJ,WAArD,CAhBI;;AAAA;AAgBtBD,YAAAA,SAhBsB;AAAA;AAAA;;AAAA;AAAA;AAAA;AAkBtBW,YAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2C,YAAEC,OAA7C;;AAlBsB;AAAA,6CAsBnB;AAACb,cAAAA,SAAS,EAATA,SAAD;AAAYC,cAAAA,WAAW,EAAXA;AAAZ,aAtBmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA5B;;AAAA;AAAA;AAAA;AAAA;;AA0BA,eAAeH,SAAf","sourcesContent":["import React from \"react\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport UserProvider from \"../react-context/user-context\";\r\nimport {servTicketing} from \"../api/build-client\";\r\nimport Header from \"../components/_App/Header\";\r\n\r\n\r\n\r\nconst CustomApp = ({Component, pageProps, currentUser}) => {\r\n  // console.log(\"Custom App Render\", currentUser);\r\n  return (\r\n    <>\r\n      <UserProvider currentUser={currentUser}>\r\n        <Header {...pageProps} />\r\n        <Component {...pageProps} />\r\n      </UserProvider>\r\n    </>\r\n  )\r\n};\r\n\r\n\r\nCustomApp.getInitialProps = async appContext => {\r\n  let currentUser = {Available:\"Available\"};\r\n  // let currentUser = null;\r\n  if (appContext.ctx.req) {\r\n    try {\r\n      const options = {headers: appContext.ctx.req.headers };\r\n      const {data} = await servTicketing.get(\"/api/users/currentuser\", options);\r\n      currentUser = data;\r\n    } catch (e) {\r\n      console.log(\"Error App Initial ==>\", e.message);\r\n    }\r\n  }\r\n\r\n  let pageProps = {};\r\n  if (appContext.Component.getInitialProps) {\r\n    try {\r\n      pageProps = await appContext.Component.getInitialProps(appContext.ctx, currentUser);\r\n    } catch (e) {\r\n      console.log(\"Error App Initial Props ==>\", e.message);\r\n    }\r\n  }\r\n\r\n  return {pageProps, currentUser}\r\n};\r\n\r\n\r\nexport default CustomApp;"]},"metadata":{},"sourceType":"module"}